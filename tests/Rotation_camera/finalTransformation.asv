% this script takes the position of one point WRT the center of the image, and takes the coordenate of the image. The output is the position of 
% the point WRT the Gantry system
clc
clear all

% working path 
addpath('F:\Users\leon\Documents\SilicioGeneral\3-Petals\Assembly\Tests_results\calibration_rotation_camera\gantry\second measures\Horizontal')
% addpath('F:\Gantry_code\Matlab_app')

% loading image coordinates WRT gantry system (mm)
positionImages=importdata('coordenates.txt');

% loading points coordinates WRT the center of the image (mm)
positionPoints=importdata('fiducialsWRTcenter.txt');

% loading the angle to be corrected (rad)
angle=importdata('angle.txt');

% rotation transformation
rotation=transform2D();
rotation.rotate(-angle);

[n,m]=size(positionPoints);

for j=1:n
    rotatedPoints(j,:)=rotation.M*[positionPoints(j,1);positionPoints(j,2);1];
end


% translation transformation

